<div class="booking-container">
	<!-- Progress Steps -->
	{% include "templates/meeting-booking/_stepper.html" %}

	<!-- Breadcrumb -->
	<div class="breadcrumb-nav">
		<a href="/meeting-booking" class="breadcrumb-link">‚Üê Back to Departments</a>
	</div>

	<!-- Page Header -->
	<div class="booking-header">
		<h1>Select a Meeting Type</h1>
		<p class="text-muted">Booking with <strong>{{ department.department_name }}</strong></p>
	</div>

	<!-- Meeting Type Cards -->
	<div class="meeting-types-grid">
		{% if meeting_types %} {% for mt in meeting_types %}
		<a
			href="/meeting-booking/{{ department.department_slug }}/{{ mt.meeting_slug }}"
			class="meeting-type-card"
		>
			<div class="meeting-type-header">
				<h3>{{ mt.meeting_name }}</h3>
				<div class="duration-badge">
					<svg
						width="16"
						height="16"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
					>
						<circle cx="12" cy="12" r="10"></circle>
						<polyline points="12 6 12 12 16 14"></polyline>
					</svg>
					{{ mt.duration }} min
				</div>
			</div>

			{% if mt.description %}
			<p class="meeting-type-description">
				{{ mt.description | striptags | truncate(150) }}
			</p>
			{% endif %}

			<div class="meeting-type-meta">
				<span class="location-type">
					{% if mt.location_type == 'Video Call' %}
					<svg
						width="16"
						height="16"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
					>
						<polygon points="23 7 16 12 23 17 23 7"></polygon>
						<rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
					</svg>
					Video Call {% elif mt.location_type == 'Phone Call' %}
					<svg
						width="16"
						height="16"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
					>
						<path
							d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"
						></path>
					</svg>
					Phone Call {% elif mt.location_type == 'Physical Location' %}
					<svg
						width="16"
						height="16"
						viewBox="0 0 24 24"
						fill="none"
						stroke="currentColor"
						stroke-width="2"
					>
						<path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
						<circle cx="12" cy="10" r="3"></circle>
					</svg>
					In Person {% else %} {{ mt.location_type }} {% endif %}
				</span>
			</div>

			<div class="card-arrow">
				<svg
					width="20"
					height="20"
					viewBox="0 0 24 24"
					fill="none"
					stroke="currentColor"
					stroke-width="2"
				>
					<polyline points="9 18 15 12 9 6"></polyline>
				</svg>
			</div>
		</a>
		{% endfor %} {% else %}
		<div class="empty-state">
			<p>No meeting types available for this department.</p>
			<p class="text-muted">Please try another department or contact us directly.</p>
		</div>
		{% endif %}
	</div>
</div>

<style>
	/* Add space between stepper and breadcrumb */
	.breadcrumb-nav {
		margin-top: 1rem;
	}

	/* Reset browser default margins on header elements */
	.booking-header h1 {
		margin-top: 0;
		margin-bottom: 0.15rem;
	}

	.booking-header .text-muted {
		margin-top: 0;
		margin-bottom: 0.1rem;
	}

	/* Meeting Types Grid */
	.meeting-types-grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
		gap: 1.75rem;
		justify-content: center;
		margin: 0 auto;
		max-width: 900px;
	}

	.meeting-type-card {
		display: block;
		padding: 1.75rem;
		border: 2px solid #fff0cc;
		border-radius: 20px;
		background: white;
		text-decoration: none;
		color: inherit;
		transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
		position: relative;
		box-shadow: 0 12px 28px rgba(15, 23, 42, 0.06);
		display: flex;
		flex-direction: column;
	}

	.meeting-type-card:hover {
		transform: translateY(-6px);
		border-color: var(--primary);
		box-shadow: 0 22px 50px rgba(225, 152, 0, 0.22);
	}

	.meeting-type-header {
		display: flex;
		justify-content: space-between;
		align-items: start;
		margin-bottom: 1rem;
	}

	.meeting-type-header h3 {
		font-size: var(--text-base);
		font-weight: var(--font-semibold);
		color: var(--text);
		line-height: var(--leading-snug);
		margin: 0;
		flex: 1;
	}

	.duration-badge {
		display: flex;
		align-items: center;
		gap: 0.4rem;
		background: var(--primary-soft);
		color: var(--primary);
		padding: 0.4rem 0.75rem;
		border-radius: 6px;
		font-size: var(--text-xs);
		font-weight: var(--font-medium);
		line-height: var(--leading-normal);
		white-space: nowrap;
		margin-left: 1rem;
	}

	.meeting-type-description {
		color: var(--muted);
		font-size: var(--text-sm);
		font-weight: var(--font-normal);
		line-height: var(--leading-relaxed);
		flex: 1;
		margin-bottom: 1rem;
	}

	.meeting-type-meta {
		display: flex;
		align-items: center;
		gap: 1rem;
		padding-top: 1rem;
		border-top: 1px solid #ffe8b3;
	}

	.location-type {
		display: flex;
		align-items: center;
		gap: 0.5rem;
		color: var(--muted);
		font-size: var(--text-xs);
		font-weight: var(--font-medium);
		line-height: var(--leading-normal);
	}

	.card-arrow {
		position: absolute;
		right: 1.5rem;
		top: 50%;
		transform: translateY(-50%);
		color: var(--muted);
		transition: all 0.3s;
	}

	.meeting-type-card:hover .card-arrow {
		color: var(--primary);
		transform: translateY(-50%) translateX(4px);
	}

	/* Empty State */
	.empty-state {
		grid-column: 1 / -1;
		text-align: center;
		padding: 4rem;
		color: var(--muted);
	}

	/* Mobile */
	@media (max-width: 768px) {
		.meeting-types-grid {
			grid-template-columns: 1fr;
		}
	}
</style>
